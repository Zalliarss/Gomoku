<?xml version="1.0" encoding="utf-8" ?>
<TabbedPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
            xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
            xmlns:local="clr-namespace:Gomoku"
            x:Class="Gomoku.MainPage"
            Title="Gomoku"
            x:Name="MainTabbedPage">

    
    <ContentPage Title="Gomoku">
        <Grid x:Name="MainContainer">

            
            <Grid x:Name="MainMenuView" 
                  BackgroundColor="#F8F9FA"
                  IsVisible="True">

                <Image Source="background_pattern.png" 
                       Aspect="AspectFill" 
                       Opacity="0.1"/>

                <StackLayout VerticalOptions="Center" 
                             HorizontalOptions="Center" 
                             Spacing="30"
                             Padding="20">

                    <StackLayout HorizontalOptions="Center" Spacing="10">
                        <Label Text="ГОМОКУ" 
                               FontAttributes="Bold" 
                               FontSize="36" 
                               TextColor="#2C3E50"
                               HorizontalOptions="Center"/>
                        <Label Text="Пять в ряд" 
                               FontSize="18" 
                               TextColor="#7F8C8D"
                               HorizontalOptions="Center"/>
                    </StackLayout>

                    
                    <StackLayout Spacing="15" WidthRequest="250">
                        <Button Text="Два игрока" 
                                Clicked="OnTwoPlayersFromMenu"
                                BackgroundColor="#3498DB"
                                TextColor="White"
                                FontSize="16"
                                HeightRequest="50"
                                CornerRadius="25"/>

                        <Button Text="Против ИИ" 
                                Clicked="OnVsAIFromMenu"
                                BackgroundColor="#E74C3C"
                                TextColor="White"
                                FontSize="16"
                                HeightRequest="50"
                                CornerRadius="25"/>

                        <Button Text="Правила" 
                                Clicked="OnRulesFromMenu"
                                BackgroundColor="#F39C12"
                                TextColor="White"
                                FontSize="16"
                                HeightRequest="50"
                                CornerRadius="25"/>

                        <Button Text="О программе" 
                                Clicked="OnAboutFromMenu"
                                BackgroundColor="#9B59B6"
                                TextColor="White"
                                FontSize="16"
                                HeightRequest="50"
                                CornerRadius="25"/>

                        <Button Text="Выход" 
                                Clicked="OnExitClicked"
                                BackgroundColor="#95A5A6"
                                TextColor="White"
                                FontSize="16"
                                HeightRequest="50"
                                CornerRadius="25"/>
                    </StackLayout>

                    
                    <Border BackgroundColor="#FFFFFF" 
                            Stroke="#BDC3C7"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 15"
                            Padding="15">
                        <StackLayout Spacing="8" HorizontalOptions="Center">
                            <Label Text="Статистика" 
                                   FontAttributes="Bold"
                                   FontSize="14"
                                   TextColor="#2C3E50"
                                   HorizontalOptions="Center"/>
                            <Label x:Name="StatsLabel"
                                   Text="Игр сыграно: 0 | Побед: 0"
                                   FontSize="12"
                                   TextColor="#7F8C8D"
                                   HorizontalOptions="Center"/>
                        </StackLayout>
                    </Border>
                </StackLayout>
            </Grid>

           
            <Grid x:Name="GameView" 
             BackgroundColor="#F8F9FA"
             IsVisible="False">

                
                <Grid RowDefinitions="Auto,Auto,*,Auto"
                 RowSpacing="15"
                 Padding="20">

                   
                    <Grid Grid.Row="0" 
                     ColumnDefinitions="Auto,*,Auto"
                     VerticalOptions="Start">

                        <Button Text="← Меню" 
                        Clicked="OnBackToMenuClicked"
                        BackgroundColor="#95A5A6"
                        TextColor="White"
                        FontSize="14"
                        WidthRequest="100"
                        HeightRequest="35"
                        Grid.Column="0"/>

                        <Label Text="Гомоку" 
                        FontAttributes="Bold" 
                        FontSize="22" 
                        HorizontalOptions="Center" 
                        VerticalOptions="Center"
                        TextColor="#2C3E50"
                        Grid.Column="1" Margin="0,0,100,0"/>
                    </Grid>

                   
                    <Label x:Name="StatusLabel"
                     Text="Ход игрока 1 (Чёрные)"
                     FontSize="16"
                    HorizontalOptions="Center"
                    VerticalOptions="Center"
                    Grid.Row="1"
                    TextColor="#34495E"
                    FontAttributes="Bold"/>

                    
                    <Border Grid.Row="2"
                    BackgroundColor="#DEB887"
                    Stroke="#8B4513"
                    StrokeThickness="2"
                    StrokeShape="RoundRectangle 5"
                    Padding="10"
                    HorizontalOptions="Center"
                    VerticalOptions="Center">

                        <GraphicsView x:Name="BoardView"
                        Drawable="{x:Static local:BoardDrawable.Instance}"
                        HeightRequest="350"
                        WidthRequest="350"
                        StartInteraction="BoardView_StartInteraction" />
                    </Border>

                    
                    <Button Text="Новая игра"
                    Clicked="OnNewGameClicked"
                     Grid.Row="3"
                     HorizontalOptions="Center"
                    BackgroundColor="#27AE60"
                    TextColor="White"
                     FontSize="16"
                     WidthRequest="150"
                     HeightRequest="45"/>
                </Grid>
            </Grid>

            
            <ScrollView x:Name="RulesView" 
                        BackgroundColor="#F8F9FA"
                        IsVisible="False"
                        Padding="15">

                <Grid RowDefinitions="Auto,*">
                    
                    <Button Text="← Главное меню" 
                            Clicked="OnBackToMenuClicked"
                            BackgroundColor="#95A5A6"
                            TextColor="White"
                            FontSize="14"
                            WidthRequest="150"
                            HeightRequest="35"
                            HorizontalOptions="Start"
                            Margin="10"/>

                    <StackLayout Grid.Row="1" Spacing="20">
                        <Label Text="Правила Гомоку" 
                               FontAttributes="Bold" 
                               FontSize="26" 
                               HorizontalOptions="Center"
                               TextColor="#2C3E50"
                               Margin="0,20,0,0"/>

                        <Border BackgroundColor="#FFFFFF" 
                                Stroke="#BDC3C7"
                                StrokeThickness="1"
                                StrokeShape="RoundRectangle 12"
                                Padding="20">
                            <StackLayout Spacing="12">
                                <Label Text="Основные правила:" 
                                       FontAttributes="Bold"
                                       FontSize="18"
                                       TextColor="#2C3E50"/>
                                <StackLayout Spacing="8">
                                    <Label Text="• Игроки по очереди ставят камни на доску"
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Чёрные ходят первыми"
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Цель: первым построить 5 камней в ряд"
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Ряд может быть горизонтальным, вертикальным или диагональным"
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Игра заканчивается при победе или ничье"
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                </StackLayout>
                            </StackLayout>
                        </Border>

                        <Border BackgroundColor="#F8F9FA" 
                                Stroke="#3498DB"
                                StrokeThickness="2"
                                StrokeShape="RoundRectangle 12"
                                Padding="20">
                            <StackLayout Spacing="12">
                                <Label Text="Режим против ИИ:" 
                                       FontAttributes="Bold"
                                       FontSize="18"
                                       TextColor="#2980B9"/>
                                <StackLayout Spacing="8">
                                    <Label Text="• Выберите 'Против ИИ' в главном меню"
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• ИИ автоматически делает ход после вашего"
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• ИИ пытается блокировать ваши выигрышные ходы"
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Можно играть за чёрных (ходят первыми)"
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                </StackLayout>
                            </StackLayout>
                        </Border>

                        <Label Text="Удачи в игре!" 
                               FontSize="20" 
                               HorizontalOptions="Center"
                               TextColor="#27AE60"
                               FontAttributes="Bold"
                               Margin="0,0,0,20"/>
                    </StackLayout>
                </Grid>
            </ScrollView>

            <ScrollView x:Name="AboutView" 
                        BackgroundColor="#F8F9FA"
                        IsVisible="False"
                        Padding="20">

                <Grid RowDefinitions="Auto,*">
                    
                    <Button Text="← Главное меню" 
                            Clicked="OnBackToMenuClicked"
                            BackgroundColor="#95A5A6"
                            TextColor="White"
                            FontSize="14"
                            WidthRequest="150"
                            HeightRequest="35"
                            HorizontalOptions="Start"
                            Margin="10"/>

                    <StackLayout Grid.Row="1" Spacing="25" VerticalOptions="Center">
                        <Label Text="Гомоку" 
                               FontAttributes="Bold" 
                               FontSize="32" 
                               HorizontalOptions="Center"
                               TextColor="#2C3E50"
                               Margin="0,20,0,0"/>

                        <Label Text="Классическая японская настольная игра" 
                               FontSize="18" 
                               HorizontalOptions="Center"
                               TextColor="#7F8C8D"
                               FontAttributes="Italic"/>

                        <Border BackgroundColor="#FFFFFF" 
                                Stroke="#95A5A6"
                                StrokeThickness="1"
                                StrokeShape="RoundRectangle 12"
                                Padding="25"
                                HorizontalOptions="Fill">
                            <StackLayout Spacing="12">
                                <Label Text="Информация о программе:" 
                                       FontAttributes="Bold"
                                       FontSize="18"
                                       TextColor="#2C3E50"
                                       HorizontalOptions="Center"/>
                                <StackLayout Spacing="10">
                                    <Label Text="• Версия 2.0" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Разработано на .NET MAUI" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• С интеллектуальным ИИ" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Поддержка двух игроков" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Адаптивный дизайн" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• © 2025" 
                                           FontSize="16"
                                           TextColor="#34495E"
                                           FontAttributes="Bold"/>
                                </StackLayout>
                            </StackLayout>
                        </Border>

                        <Border BackgroundColor="#E8F6F3" 
                                Stroke="#27AE60"
                                StrokeThickness="2"
                                StrokeShape="RoundRectangle 12"
                                Padding="20">
                            <StackLayout Spacing="12">
                                <Label Text="Возможности ИИ:" 
                                       FontAttributes="Bold"
                                       FontSize="18"
                                       TextColor="#229954"
                                       HorizontalOptions="Center"/>
                                <StackLayout Spacing="8">
                                    <Label Text="• Поиск выигрышных комбинаций" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Блокировка угроз игрока" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Стратегическое позиционирование" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Адаптивная сложность" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                </StackLayout>
                            </StackLayout>
                        </Border>

                        <Border BackgroundColor="#EBF5FB" 
                                Stroke="#3498DB"
                                StrokeThickness="2"
                                StrokeShape="RoundRectangle 12"
                                Padding="20">
                            <StackLayout Spacing="12">
                                <Label Text="Технологии:" 
                                       FontAttributes="Bold"
                                       FontSize="18"
                                       TextColor="#2980B9"
                                       HorizontalOptions="Center"/>
                                <StackLayout Spacing="8">
                                    <Label Text="• .NET MAUI - кроссплатформенность" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• C# - язык программирования" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• MVP архитектура" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                    <Label Text="• Асинхронное программирование" 
                                           FontSize="16"
                                           TextColor="#34495E"/>
                                </StackLayout>
                            </StackLayout>
                        </Border>
                    </StackLayout>
                </Grid>
            </ScrollView>

        </Grid>
    </ContentPage>

</TabbedPage>